/*1326833827,169776065*/

if (window.CavalryLogger) { CavalryLogger.start_js(["Ba73l"]); }

function incorporate_fragment(a){var c=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;var b='';a.href.replace(c,function(d,g,h,f){var e,i;e=i=g+(h?'?'+h:'');if(f){f=f.replace(/^(!|%21)/,'');if(f.charAt(0)=='/')e=f.replace(/^\/+/,'/');}if(e!=i){if(window._script_path)document.cookie="rdir="+window._script_path+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');window.location.replace(b+e);}});}if(window._incorporate_fragment)incorporate_fragment(window.location);
window.__DEV__=window.__DEV__||0;if(!window.skipDomainLower&&document.domain.toLowerCase().match(/(^|\.)facebook\..*/))document.domain=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1');function bagofholding(){}function bagof(a){return function(){return a;};}if(!Date.now)Date.now=function now(){return new Date().getTime();};if(!Array.isArray)Array.isArray=function(a){return Object.prototype.toString.call(a)=='[object Array]';};Env=window.Env||{};Env.start=Env.start||Date.now();document.documentElement.className=document.documentElement.className.replace('no_js','');
window.require||(function(){var z={},x={},o=0,y=this,j=1,m=2,k='special',d='exports',c='dependencies',h='module',n='waiting',e='factory',l=undefined,b='define',f='global',i='require',g='requireLazy',a='context';function za(zj){var zl=z[zj],ze,zi;if(zl[n]&&zl[k]&m)r();if(!zl[d]){var zg=zl[d]={},zh=zl[e];if(Object.prototype.toString.call(zh)==='[object Function]'){var zd=[],zf=zl[c],zk=zf.length;if(zl[k]&m)zk=Math.min(zk,zh.length);for(zi=0;zi<zk;zi++){ze=zf[zi];zd.push(ze===h?zl:(ze===d?zg:za(ze)));}var zm=zh.apply(zl[a]||y,zd);if(zm)zl[d]=zm;}else zl[d]=zh;}return zl[d];}function v(zh,zf,zg,ze,zd){if(zf===l){zf=[];zg=zh;zh=t();}else if(zg===l){zg=zf;zf=zh;zh=t();}if(z[zh])return;var zi={id:zh};zi[e]=zg;zi[c]=zf;zi[a]=zd;zi[k]=ze;z[zh]=zi;p(zh);}function zb(ze,zf,zd){v(ze,zf,l,j,zd);}function r(){var ze={},zd;for(zd in x)if(z[zd]&&!ze[zd]&&z[zd][k]&m)s({},zd,ze);}function s(zg,zd,zh){zh[zd]=1;var zf=x[zd],ze;if(!zf)return;zg[zd]=1;for(ze in zf){if(!z[ze][k]&m)continue;if(zg[ze]){delete zf[ze];z[ze][n]--;if(!z[ze][n])u(ze);}else s(zg,ze,zh);}zg[zd]=0;}function t(){return '__mod__'+o++;}function p(zf){var zg=z[zf];var zh=0;for(var ze=0;ze<zg[c].length;ze++){var zd=zg[c][ze];if(!z[zd]||z[zd][n]){x[zd]||(x[zd]={});x[zd][zf]=1;zh++;}}zg[n]=zh;if(!zh)u(zf);}function u(ze){var zf=z[ze];if(zf[k]&j)za(ze);var zg=x[ze];if(zg){delete x[ze];for(var zd in zg)if(!--z[zd][n])u(zd);}}function q(ze,zd){z[ze]={id:ze};z[ze][d]=zd;}q(h,0);q(d,0);q(b,v);q(f,y);q(i,za);q(g,zb);v.amd={};y[b]=v;y[i]=za;y[g]=zb;za.ensure=zb;var zc=false;var w=function(zg,ze,zf,zd){v(zg,ze,zf,zd||m);if(z[zg][n]&&!zc)zc=setTimeout(function(){r();zc=false;},9);};y.__d=function(zg,ze,zf,zd){ze=[f,i,g,h,d].concat(ze);w(zg,ze,zf,zd);};y.__e=function(zg,ze,zf,zd){ze=[f,i,h,d].concat(ze);w(zg,ze,zf,zd);};})();
__d("hasArrayNature",[],function(b,e,f,d,a){function c(g){return (!!g&&(typeof g=='object'||typeof g=='function')&&('length' in g)&&!('setInterval' in g)&&(Object.prototype.toString.call(g)==="[object Array]"||('callee' in g)||('item' in g)));}d.exports=c;});
__d("ArrayUtils",["hasArrayNature"],function(c,f,g,e,b){var d=f("hasArrayNature");var a={createFrom:function(i){if(!d(i))return [i];if(i.item){var h=i.length,j=new Array(h);while(h--)j[h]=i[h];return j;}return Array.prototype.slice.call(i);}};e.exports=a;});
__d("copyProperties",[],function(c,e,f,d,b){function a(h,i){h=h||{};i=i||{};for(var g in i)h[g]=i[g];if(i.hasOwnProperty&&i.hasOwnProperty('toString')&&(typeof i.toString!='undefined')&&(h.toString!==i.toString))h.toString=i.toString;return h;}d.exports=a;});
__d("array-extensions",["copyProperties"],function(c,f,g,d,b){var a=f('copyProperties');function e(h){return function(){if(this===c)throw new TypeError();return h.apply(this,arguments);};}a(Array.prototype,{map:function(i,h){if(this===c||typeof i!='function')throw new TypeError();var j;var k=this.length;var l=new Array(k);for(j=0;j<k;++j)if(j in this)l[j]=i.call(h,this[j],j,this);return l;},forEach:function(i,h){this.map(i,h);},filter:e(function(i,h){if(typeof i!='function')throw new TypeError();var j,m,k=this.length,l=[];for(j=0;j<k;++j)if(j in this){m=this[j];if(i.call(h,m,j,this))l.push(m);}return l;}),every:e(function(i,h){if(typeof i!=='function')throw new TypeError();var l=new Object(this);var k=l.length;for(var j=0;j<k;j++)if(j in l)if(!i.call(h,l[j],j,l))return false;return true;}),some:e(function(i,h){if(typeof i!=='function')throw new TypeError();var l=new Object(this);var k=l.length;for(var j=0;j<k;j++)if(j in l)if(i.call(h,l[j],j,l))return true;return false;}),reduce:null,reduceRight:null,sort:e(Array.prototype.sort),reverse:e(Array.prototype.reverse),concat:e(Array.prototype.concat),slice:e(Array.prototype.slice),indexOf:e(Array.prototype.indexOf||function(j,h){var i=this.length;h|=0;if(h<0)h+=i;for(;h<i;h++)if(h in this&&this[h]===j)return h;return -1;}),contains:function(h){return this.indexOf(h)!=-1;},remove:function(i){var h=this.indexOf(i);if(h!=-1)this.splice(h,1);}});Array.prototype.each=Array.prototype.forEach;},3);
__d("Util",[],function(b,d,e,c,a){if(typeof console=='undefined')b.console={log:bagofholding,info:bagofholding,warn:bagofholding,debug:bagofholding,dir:bagofholding,error:bagofholding};c.exports=b.console;});
__d("Arbiter",["array-extensions","ArrayUtils","Util","copyProperties","hasArrayNature"],function(g,j,k,i,f){j("array-extensions");var b=j("ArrayUtils");var c=j("Util");var e=j("copyProperties");var h=j("hasArrayNature");var d=null;function l(m){d=m;}if(!window.async_callback)window.async_callback=function(m,n){return m;};function a(){e(this,{_listeners:[],_events:{},_callbacks:{},_last_id:1,_listen:{},_index:{}});e(this,a);delete this.setErrorHandler;}e(a,{SUBSCRIBE_NEW:'new',SUBSCRIBE_ALL:'all',BEHAVIOR_EVENT:'event',BEHAVIOR_PERSISTENT:'persistent',BEHAVIOR_STATE:'state',LIVEMESSAGE:'livemessage',BOOTLOAD:'bootload',FUNCTION_EXTENSION:'function_ext',setErrorHandler:l,subscribe:function(x,o,s){x=b.createFrom(x);var n=x.some(function(y){return !y||typeof(y)!='string';});if(n)return null;s=s||a.SUBSCRIBE_ALL;var m=a._getInstance(this);m._listeners.push({callback:o,types:x});var u=m._listeners.length-1;for(var q=0;q<x.length;q++){var w=x[q];if(!m._index[w])m._index[w]=[];m._index[w].push(u);if(s==a.SUBSCRIBE_ALL)if(w in m._events)for(var r=0;r<m._events[w].length;r++){var p=m._events[w][r];var t=m._fireCallback(o,w,p);if(t===false){m._events[w].splice(r,1);r--;}}}var v={subscriberID:u};return v;},unsubscribe:function(q){var m=a._getInstance(this);var o=m._listeners[q.subscriberID];if(!o)return;for(var p=0;p<o.types.length;p++){var r=o.types[p];if(m._index[r])for(var n=0;n<m._index[r].length;n++)if(m._index[r][n]==q.subscriberID){m._index[r].splice(n,1);if(m._index[r].length==0)delete m._index[r];break;}}delete m._listeners[q.subscriberID];},inform:function(x,o,n){var y=h(x);x=b.createFrom(x);var m=a._getInstance(this);var u={};n=n||a.BEHAVIOR_EVENT;for(var q=0;q<x.length;q++){var v=x[q],p=null;if(n==a.BEHAVIOR_PERSISTENT){p=m._events.length;if(!(v in m._events))m._events[v]=[];m._events[v].push(o);m._events[v]._stateful=false;}else if(n==a.BEHAVIOR_STATE){p=0;m._events[v]=[o];m._events[v]._stateful=true;}else if(v in m._events)m._events[v]._stateful=false;window.ArbiterMonitor&&ArbiterMonitor.record('event',v,o,m);var t;if(m._index[v]){var w=b.createFrom(m._index[v]);for(var r=0;r<w.length;r++){var s=m._listeners[w[r]];if(s){t=m._fireCallback(s.callback,v,o);if(t===false){if(p!==null)m._events[v].splice(p,1);break;}}}}m._updateCallbacks(v,o);window.ArbiterMonitor&&ArbiterMonitor.record('done',v,o,m);u[v]=t;}return y?u:u[x[0]];},query:function(n){var m=a._getInstance(this);if(!(n in m._events))return null;if(m._events[n].length)return m._events[n][0];return null;},_instance:null,_getInstance:function(m){if(m instanceof a)return m;if(!a._instance)a._instance=new a();return a._instance;},registerCallback:function(n,p){var t,o=0,m=a._getInstance(this),s=false;if(typeof n=='function'){t=m._last_id;m._last_id++;s=true;}else{if(!m._callbacks[n])return null;t=n;}if(h(p)){var u={};for(var r=0;r<p.length;r++)u[p[r]]=1;p=u;}for(var v in p){try{if(m.query(v))continue;}catch(q){}o+=p[v];if(m._listen[v]===undefined)m._listen[v]={};m._listen[v][t]=(m._listen[v][t]||0)+p[v];}if(o==0&&s){m._fireCallback(n);return null;}if(!s){m._callbacks[t].depnum+=o;}else m._callbacks[t]={callback:async_callback(n,'arbiter'),depnum:o};return t;},_updateCallbacks:function(p,o){if(o===null||!this._listen[p])return;for(var n in this._listen[p]){this._listen[p][n]--;if(this._listen[p][n]<=0)delete this._listen[p][n];this._callbacks[n].depnum--;if(this._callbacks[n].depnum<=0){var m=this._callbacks[n].callback;delete this._callbacks[n];this._fireCallback(m);}}},_fireCallback:function(n){var m=Array.prototype.slice.call(arguments,1);if(/nocatch/.test(location.search))return n.apply(null,m);try{return n.apply(null,m);}catch(o){if(d)d(o);}}});i.exports=a;});
__d("mixins",["Arbiter"],function(d,f,g,e,c){var a=f('Arbiter');var b={Arbiter:{_getArbiterInstance:function(){return this._arbiter||(this._arbiter=new a());},inform:function(j,i,h){return this._getArbiterInstance().inform(j,i,h);},subscribe:function(j,h,i){return this._getArbiterInstance().subscribe(j,h,i);},unsubscribe:function(h){this._getArbiterInstance().unsubscribe(h);}}};d.Mixins=e.exports=b;},3);
__d("bind",[],function(c,e,f,d,b){function a(j,i){var g=Array.prototype.slice.call(arguments,2);function h(){var l=j||(this==window?false:this),k=g.concat(Array.prototype.slice.call(arguments));if(typeof(i)=="string"){if(l[i])return l[i].apply(l,k);}else return i.apply(l,k);}h.toString=function(){if(typeof(i)=="string")return "bound lazily: "+j[i];return "bound: "+i;};return h;}d.exports=a;c.bind=a;},3);
__d("function-extensions",["ArrayUtils","mixins","bind","copyProperties"],function(f,h,i,g,e){var a=h('ArrayUtils');var b=h('mixins');var c=h('bind');var d=h('copyProperties');Function.mixin=function(){for(var k=1,j=arguments.length;k<j;++k)d(arguments[0],b[arguments[k]]||arguments[k]);};Function.prototype.bind=function(k){var j=[k,this].concat(Array.prototype.slice.call(arguments,1));return c.apply(null,j);};Function.prototype.curry=Function.prototype.bind.bind(null,null);Function.prototype.shield=function(k){if(typeof this!='function')throw new TypeException();var j=this.bind.apply(this,a.createFrom(arguments));return function(){return j();};};Function.prototype.defer=function(k,j){if(typeof this!='function')throw new TypeError();k=k||0;return setTimeout(this,k,j);};},3);
__d("isEmpty",[],function(b,e,f,d,a){function c(h){if(h instanceof Array){return h.length===0;}else if(h instanceof Object){for(var g in h)return false;return true;}else return !h;}d.exports=c;});
__d("CSSLoader",["function-extensions","Util","isEmpty"],function(p,s,t,r,o){s("function-extensions");var d=s("Util");var q=s("isEmpty");var b=20;var c=5000;var i;var n;var l={};var h=[];var g;var e={};function f(v){var u=Array.prototype.slice(arguments,1);for(var w=0;w<v.length;w++)v[w].apply(null,u);}function m(u){if(n)return;n=true;var v=document.createElement('link');v.onload=function(){i=true;v.parentNode.removeChild(v);};v.rel='stylesheet';v.href='data:text/css;base64,';u.appendChild(v);}function j(){var x;var u=[];var v=[];if(Date.now()>=g){for(x in e){v.push(e[x].signal);u.push(e[x].error);}e={};}else for(x in e){var y=e[x].signal;var z=window.getComputedStyle?getComputedStyle(y,null):y.currentStyle;if(z&&parseInt(z.height,10)>1){u.push(e[x].load);v.push(y);delete e[x];}}for(var w=0;w<v.length;w++)v[w].parentNode.removeChild(v[w]);if(!q(u)){f(u);g=Date.now()+c;}return q(e);}function k(x,v,z,y){var za=document.createElement('meta');za.id='bootloader_'+x.replace(/[^a-z0-9]/ig,'_');v.appendChild(za);var u=!q(e);g=Date.now()+c;e[x]={signal:za,load:z,error:y};if(!u)var w=setInterval(function _pollCSS(){if(j())clearInterval(w);},b,false);}var a={loadStyleSheet:function(x,zb,u,z,y){if(l[x])throw new Error('CSS component '+x+' has already been requested.');if(document.createStyleSheet){var za;for(var v=0;v<h.length;v++)if(h[v].imports.length<31){za=v;break;}if(za===undefined){h.push(document.createStyleSheet());za=h.length-1;}h[za].addImport(zb);l[x]={styleSheet:h[za],uri:zb};k(x,u,z,y);return;}var w=document.createElement('link');w.rel='stylesheet';w.type='text/css';w.href=zb;l[x]={link:w};if(i){w.onload=function(){w.onload=w.onerror=null;z();};w.onerror=function(){w.onload=w.onerror=null;y();};}else{k(x,u,z,y);if(i===undefined)m(u);}u.appendChild(w);},registerLoadedStyleSheet:function(v,u){if(l[v])throw new Error('CSS component '+v+' has already been requested.');l[v]={link:u};},unloadStyleSheet:function(x){if(!x in l)return;var v=l[x];var w=v.link;if(w){w.onload=w.onerror=null;w.parentNode.removeChild(w);}else{var y=v.styleSheet;for(var u=0;u<y.imports.length;u++)if(y.imports[u].href==v.uri){y.removeImport(u);break;}}delete e[x];delete l[x];}};r.exports=a;});
__d("bootloader",["ArrayUtils","Arbiter","CSSLoader","Util","isEmpty"],function(r,u,v,t,q){var b=u('ArrayUtils');var a=u('Arbiter');var d=u('CSSLoader');var e=u('Util');var s=u('isEmpty');var m={};var k={};var g={};var i=null;var n={};var h={};var f=false;var p=[];function l(zb,za,y,x){var w=c.done.curry([y],zb=='css');if(zb=='js'){var z=document.createElement('script');z.src=za;z.type='text/javascript';z.async=true;z.onload=z.onerror=w;z.onreadystatechange=function(){if(this.readyState in {loaded:1,complete:1})w();};x.appendChild(z);}else if(zb=='css')d.loadStyleSheet(y,za,x,w,function(){w();});}function o(w){if(!n[w])return;if(n[w].type=='css'){d.unloadStyleSheet(w);delete m[w];a.inform(a.BOOTLOAD+'/'+w,null,a.BEHAVIOR_STATE);}}function j(y,w){if(!f){p.push([y,w]);return;}y=b.createFrom(y);var zb=[];for(var z=0;z<y.length;++z){if(!y[z])continue;var x=g[y[z]];if(!!x)for(var za=0;za<x.length;++za)zb.push(x[za]);}c.loadResources(zb,w);}var c={configurePage:function(w){var zc={};var zb=c.resolveResources(w);var x;for(x=0;x<zb.length;x++){zc[zb[x].src]=zb[x];c.requested(zb[x].name);}var z=document.getElementsByTagName('link');for(x=0;x<z.length;++x){if(z[x].rel!='stylesheet')continue;for(var y in zc)if(z[x].href.indexOf(y)!==-1){var za=zc[y].name;if(zc[y].permanent)k[za]=true;delete zc[y];d.registerLoadedStyleSheet(za,z[x]);c.done([za],true);break;}}},loadComponents:function(x,w){x=b.createFrom(x);var za=[];for(var y=0;y<x.length;y++){var zb=g[x[y]];if(zb&&!zb.module)continue;var z='legacy:'+x[y];if(g[z]){x[y]=z;}else if(zb&&zb.module)za.push(x[y]);}za.length;j(x,w);},loadResources:function(zf,x,ze,zi){var za;zf=c.resolveResources(b.createFrom(zf));if(ze){var zc={};for(za=0;za<zf.length;++za)zc[zf[za].name]=true;for(var zb in m)if(!(zb in k)&&!(zb in zc)&&!(zb in h))o(zb);h={};}var zj=[];var zd=[];for(za=0;za<zf.length;++za){var zg=zf[za];if(zg.permanent)k[zg.name]=true;var zh=a.BOOTLOAD+'/'+zg.name;if(a.query(zh)!==null)continue;if(!zg.nonblocking)zd.push(zh);if(!m[zg.name]){c.requested(zg.name);zj.push(zg);window.CavalryLogger&&CavalryLogger.getInstance().measureResources(zg,zi);}}if(x)x=a.registerCallback(x,zd);var z=document.documentMode||+(/MSIE.(\d+)/.exec(navigator.userAgent)||[])[1];var y=c.getHardpoint();var w=z?y:document.createDocumentFragment();for(za=0;za<zj.length;++za)l(zj[za].type,zj[za].src,zj[za].name,w);if(y!==w)y.appendChild(w);return x;},requestResource:function(z,y,x){var w=c.getHardpoint();l(z,y,x,w);},done:function(za,x){c.requested(za);if(!x){var z={sender:this};a.inform(a.BOOTLOAD,z,a.BEHAVIOR_EVENT);}for(var w=0;w<za.length;++w){var y=za[w];a.inform(a.BOOTLOAD+'/'+y,true,a.BEHAVIOR_STATE);}},requested:function(x){x=b.createFrom(x);for(var w=0;w<x.length;++w)m[x[w]]=true;},enableBootload:function(x){for(var y in x)if(!g[y])g[y]=x[y];if(!f){f=true;for(var w=0;w<p.length;w++)c.loadComponents.apply(null,p[w]);p=[];}},getHardpoint:function(){if(!i){var w=document.getElementsByTagName('head');i=w.length&&w[0]||document.body;}return i;},setResourceMap:function(x){if(!x)return;for(var w in x){if(!x[w].name)x[w].name=w;n[w]=x[w];}},resolveResources:function(y){if(!y)return [];var x=[];for(var w=0;w<y.length;++w)if(typeof y[w]=='string'){if(y[w] in n)x.push(n[y[w]]);}else x.push(y[w]);return x;},loadEarlyResources:function(y){var w;c.setResourceMap(y);var x=[];for(w in y)x.push(n[w]);c.loadResources(x);for(w in y){var z=n[w];if(!z.permanent)h[z.name]=z;}},isDisplayJS:function(w){if(typeof w=='string')w=n[w];return w.displayjs;}};r.Bootloader=t.exports=c;},3);
__d("Env",["copyProperties"],function(d,f,g,e,c){var b=f("copyProperties");var a={start:Date.now()};if(d.Env){b(a,d.Env);d.Env=undefined;}e.exports=a;});
__d("onload",["Arbiter","copyProperties"],function(l,u,v,m,k){var a=u('Arbiter');var c=a.BEHAVIOR_STATE;var h=function(w){window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp(w);};var b={ONLOAD:'onload/onload',ONLOAD_CALLBACK:'onload/onload_callback',ONLOAD_DOMCONTENT:'onload/dom_content_ready',ONLOAD_DOMCONTENT_CALLBACK:'onload/domcontent_callback',ONBEFOREUNLOAD:'onload/beforeunload',ONUNLOAD:'onload/unload'};function g(){return !window.loading_page_chrome;}function q(w){if(window.loaded&&typeof _runHook!='undefined'){_runHook(w,'onlateloadhooks');}else d('onloadhooks',w);}function n(w){if(window.afterloaded&&typeof _runHook!='undefined'){setTimeout(function(){_runHook(w,'onlateafterloadhooks');},0);}else d('onafterloadhooks',w);}function o(w,x){if(x===undefined)x=g();x?d('onbeforeleavehooks',w):d('onbeforeunloadhooks',w);}function s(w){if(!window.onunload)window.onunload=function(){a.inform(b.ONUNLOAD,true,c);};d('onunloadhooks',w);}function p(w){d('onleavehooks',w);}function d(x,w){window[x]=(window[x]||[]).concat(w);}function t(w){window[w]=[];}function f(){a.inform(b.ONLOAD_DOMCONTENT,true,c);}function e(){var w=document,za=window;if(w.addEventListener){var zb=/AppleWebKit.(\d+)/.exec(navigator.userAgent);if(zb&&zb[1]<525){var z=setInterval(function(){if(/loaded|complete/.test(w.readyState)){f();clearInterval(z);}},10);}else w.addEventListener("DOMContentLoaded",f,true);}else{var y='javascript:void(0)';if(za.location.protocol=='https:')y='//:';w.write('<script onreadystatechange="if (this.readyState==\'complete\') {'+'this.parentNode.removeChild(this);_domcontentready();}" '+'defer="defer" src="'+y+'"><\/script\>');}var x=za.onload;za.onload=function(){h('t_layout');x&&x();a.inform(b.ONLOAD,true,c);};za.onbeforeunload=function(){var zc={};a.inform(b.ONBEFOREUNLOAD,zc,c);if(!zc.warn)a.inform('onload/exit',true);return zc.warn;};}var r=a.registerCallback(function(){h('t_onload');a.inform(b.ONLOAD_CALLBACK,true,c);},[b.ONLOAD]);var j=a.registerCallback(function(){h('t_domcontent');a.inform(b.ONLOAD_DOMCONTENT_CALLBACK,true,c);},[b.ONLOAD_DOMCONTENT]);e();m.exports={Event:b,runOnload:q,runAfterload:n,runOnleave:p,runBeforeUnload:o,runOnUnload:s};var i=u('copyProperties');i(l,{OnloadEvent:b,onloadRegister:q,onafterloadRegister:n,onleaveRegister:p,onbeforeunloadRegister:o,onunloadRegister:s,domcontent_callback:j,onload_callback:r,_domcontentready:f,removeHook:t,_addHook:d});},3);
__d("EagleEye",["Arbiter","bootloader","Env","onload","Util"],function(p,w,x,t,o){var a=w('Arbiter');var c=w('bootloader');var e=w('Env');var f=w('onload');var h=w('Util');var j=e.eagleEyeConfig||{};var za='_e_';var zc=(window.name||'').toString();if(zc.length==7&&zc.substr(0,3)==za){zc=zc.substr(3);}else{zc=j.seed;if(window==window.top)window.name=za+zc;}var y=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'';var u=za+zc+'_';var n=new Date(Date.now()+604800000).toGMTString();var l=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1');var m='; expires='+n+';path=/; domain='+l+y;var k=0;var v;var zb=j.sessionStorage&&p.sessionStorage;var r=document.cookie.length;var s=false;var z=Date.now();function q(zg){var zd=2166136261;for(var ze=0,zf=zg.length;ze<zf;++ze)zd=(zd^zg.charCodeAt(ze))*16777619;zd+=zd<<13;zd^=zd>>7;zd+=zd<<3;zd^=zd>>17;zd+=zd<<5;return (zd|0)+2147483648;}function i(zd){return u+(k++)+'='+encodeURIComponent(zd)+m;}function b(){var zd=[];var zg=false;var zf=0;var ze=0;this.isEmpty=function(){return !zd.length;};this.enqueue=function(zi,zh){if(zh){zd.unshift(zi);}else zd.push(zi);};this.dequeue=function(){zd.shift();};this.peek=function(){return zd[0];};this.clear=function(zj){r=Math.min(r,document.cookie.length);if(!s&&(new Date()-z>60000))s=true;var zh=!zj&&(document.cookie.search(za)>=0);var zt=!!e.cookie_header_limit;var zo=e.cookie_count_limit||19;var zp=e.cookie_header_limit||3950;var zm=zo-5;var zn=zp-1000;while(!this.isEmpty()){var zi=i(this.peek());if(zt&&(zi.length>zp||(s&&zi.length+r>zp))){this.dequeue();continue;}if((zh||zt)&&((document.cookie.length+zi.length>zp)||(document.cookie.split(';').length>zo)))break;document.cookie=zi;zh=true;this.dequeue();}var zq=Date.now();if(zj||!zg&&zh&&((ze>0)&&(Math.min(10*Math.pow(2,ze-1),60000)+zf<zq))&&a.query(f.Event.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>zn)||(document.cookie.split(';').length>zm))){var zs=new Image();var zr=this;var zk=e.tracking_domain||'';zg=true;zs.onload=function _EagleEye_logged(){zg=false;ze=0;zr.clear();};zs.onerror=zs.onabort=function _EagleEye_error(){zg=false;zf=Date.now();ze++;};var zl=e.fb_isb?'&fb_isb='+e.fb_isb:'';var zu='&__user='+e.user;zs.src=zk+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+zl+zu+'&'+(!zj?'':'s=')+zq;}};}v=new b();if(zb){var g=function(){var zf=0;var zh=zf;function ze(){var zj=sessionStorage.getItem('_e_ids');if(zj){var zi=(zj+'').split(';');if(zi.length==2){zf=parseInt(zi[0],10);zh=parseInt(zi[1],10);}}}function zg(){var zi=zf+';'+zh;sessionStorage.setItem('_e_ids',zi);}function zd(zi){return '_e_'+((zi!==undefined)?zi:zf++);}this.isEmpty=function(){return zh===zf;};this.enqueue=function(zk,zi){var zj=zi?zd(--zh):zd();sessionStorage.setItem(zj,zk);zg();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(zd(zh));zh++;zg();};this.peek=function(){var zi=sessionStorage.getItem(zd(zh));return zi?(zi+''):zi;};this.clear=v.clear;ze();};v=new g();}var d={log:function(zg,zd,ze){if(e.no_cookies)return;var zh=[zc,Date.now(),zg].concat(zd);zh.push(zh.length);function zf(){var zj=JSON.stringify(zh);try{v.enqueue(zj,!!ze);v.clear(!!ze);}catch(zi){if(zb&&(zi.code===1000)){v=new b();zb=false;zf();}}}if(p.JSON){zf();}else c.loadComponents('json',zf);},createLogger:function(zf,zd){zd=(zd===undefined)?1:zd;var ze=function(zg,zh){if(ze.enabled)d.log(zf,zg,zh);};ze.enabled=false;ze._key=(e.user||Math.random())+zf;ze.enabled=(q(ze._key)%65535/65535)<=zd;return ze;},getSessionID:function(){return zc;}};p.EagleEye=t.exports=d;},3);
__d("setUECookie",["Env"],function(c,e,f,d,b){var a=e("Env");function g(i){if(!a.no_cookies){var h=0;if(c.afterloaded){h=2;}else if(c.loaded)h=1;document.cookie="act="+encodeURIComponent(i+":"+h)+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}}d.exports=g;});
__d("json",[],function(global,require,requireLazy,module,exports){if(!this.JSON)this.JSON={};(function(){function f(n){return n<10?'0'+n:n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function')value=value.toJSON(key);if(typeof rep==='function')value=rep.call(holder,key,value);switch(typeof value){case 'string':return quote(value);case 'number':return isFinite(value)?String(value):'null';case 'boolean':case 'null':return String(value);case 'object':if(!value)return 'null';gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||'null';v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v)partial.push(quote(k)+(gap?': ':':')+v);}}}else for(k in value)if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?': ':':')+v);}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function')JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1)indent+=' ';}else if(typeof space==='string')indent=space;rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number'))throw new Error('JSON.stringify');return str('',{'':value});};if(typeof JSON.parse!=='function')JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object')for(k in value)if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else delete value[k];}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};JSON.stringify=function(old){return function(){var s=old.apply(this,arguments);return s?s.replace(/[%\u2028\u2029]/g,function(m){var s=m.charCodeAt(0).toString(16);return '\\u0000'.substring(0,6-s.length)+s;}):s;};}(JSON.stringify);}());if(!global.JSON)global.JSON=JSON;},3);
__d("collectDataAttributes",["json"],function(c,e,f,d,b){e("json");function a(k,o){var m={};var j={};var n=o.length;var l;for(l=0;l<n;++l){m[o[l]]={};j[o[l]]='data-'+o[l];}while(k){if(k.getAttribute)for(l=0;l<n;++l){var i=k.getAttribute(j[o[l]]);if(i){var h=JSON.parse(i);for(var g in h)if(m[o[l]][g]===undefined)m[o[l]][g]=h[g];}}k=k.parentNode;}return m;}d.exports=a;});
__d("ClickRef",["Arbiter","EagleEye","copyProperties","setUECookie","collectDataAttributes"],function(f,i,j,h,e){var a=i("Arbiter");var b=i("EagleEye");var d=i("copyProperties");var k=i("setUECookie");var c=i("collectDataAttributes");function g(){function n(s){if(!!s){var r={profile_minifeed:1,info_tab:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,navSearch:1};for(var q=s;q&&q!=document.body;q=q.parentNode){if(!q.id||typeof q.id!=='string')continue;if(q.id.substr(0,8)=='pagelet_')return q.id.substr(8);if(q.id.substr(0,8)=='box_app_')return q.id;if(r[q.id])return q.id;}}return '-';}function m(q){return (q.getAttribute&&(q.getAttribute('ajaxify')||q.getAttribute('data-endpoint'))||q.action||q.href||q.name);}function o(r){if(!ge('content'))return [0,0,0,0];var q=$('content');var s=window.Vector2?Vector2.getEventPosition(r):{x:0,y:0};return [s.x,s.y,q.offsetLeft,q.clientWidth];}function p(r,q){if(q=='FORCE')return true;if(q=='INDIRECT')return false;return (r&&m(r));}function l(zb,x,event,t){var z=(!window.ArbiterMonitor)?'r':'a',w=[0,0,0,0],za,u,v;if(!!event){za=event.type;if(za=='click'&&ge('content'))w=o(event);var r=0;event.ctrlKey&&(r+=1);event.shiftKey&&(r+=2);event.altKey&&(r+=4);event.metaKey&&(r+=8);if(r)za+=r;}if(!!x)u=m(x);var q=[];if(window.ArbiterMonitor){v=ArbiterMonitor.getInternRef(x);q=ArbiterMonitor.getActFields();}var s=c(x,['ft','gt']);d(s.ft,t.ft||{});d(s.gt,t.gt||{});if(s.gt.ua_id)zb.set_ua_id(s.gt.ua_id);if(typeof(s.ft.ei)==='string')delete s.ft.ei;var y=[zb._ue_ts,zb._ue_count,u||'-',zb._context,za||'-',v||n(x),z,window.URI?URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,s].concat(w).concat(q);return y;}a.subscribe("UserAction/new",function(s,r){if(p(r.node,r.mode)){var q=l(r.ua,r.node,r.event,r.extra_data);k(r.ua.ue);b.log('act',q);}});}h.exports={init:g};});
__d("legacy:click-ref",["ClickRef"],function(a,b,c){b('ClickRef').init();},3);
__d("htmlspecialchars",[],function(b,e,f,d,a){function c(g){if(typeof(g)=='undefined'||g===null||!g.toString)return '';if(g===false){return '0';}else if(g===true)return '1';return g.toString().replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#039;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}d.exports=c;});
__d("dom-core",["htmlspecialchars"],function(d,g,h,f,b){var e=g('htmlspecialchars');var a=function(i){return typeof i=='string'?document.getElementById(i):i;};var c=a;d.ge=b.ge=c;d.$=b.$=a;},3);
__d("css-core",["dom-core"],function(d,f,g,e,c){var a=f('dom-core').$;var b={hasClass:function(i,h){i=a(i);return (' '+i.className+' ').indexOf(' '+h+' ')>-1;},addClass:function(i,h){i=a(i);if(h&&!b.hasClass(i,h))i.className=i.className+' '+h;return i;},removeClass:function(i,h){i=a(i);if(b.hasClass(i,h))i.className=i.className.replace(new RegExp('(^|\\s)'+h+'(?:\\s|$)','g'),'$1').replace(/\s+/g,' ').replace(/^\s*|\s*$/g,'');return i;},toggleClass:function(i,h){return b.conditionClass(i,h,!b.hasClass(i,h));},conditionClass:function(j,i,h){return (h?b.addClass:b.removeClass)(j,i);},show:function(h){b.removeClass(h,'hidden_elem');},hide:function(h){b.addClass(h,'hidden_elem');},conditionShow:function(i,h){b.conditionClass(i,'hidden_elem',!h);}};d.CSS=e.exports=b;},3);
__d("Parent",["css-core"],function(d,f,g,e,c){var a=f("css-core");var b={byTag:function(h,i){i=i.toUpperCase();while(h&&h.nodeName!=i)h=h.parentNode;return h;},byClass:function(i,h){while(i&&!a.hasClass(i,h))i=i.parentNode;return i;},byAttribute:function(i,h){while(i&&(!i.getAttribute||!i.getAttribute(h)))i=i.parentNode;return i;}};e.exports=b;});
__d("legacy:parent",["Parent"],function(a,b,c){a.Parent=b('Parent');},3);
__d("trackReferrer",["Parent"],function(c,e,f,d,b){var a=e("Parent");function g(h,l){h=a.byAttribute(h,'data-referrer');if(h){var k=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/.exec(l)[1]||'';if(!k)return;var j=k+'|'+h.getAttribute('data-referrer');var i=new Date();i.setTime(Date.now()+1000);document.cookie="x-src="+encodeURIComponent(j)+"; "+"expires="+i.toGMTString()+";path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}return h;}d.exports=g;});
__d("legacy:referrer-tracker",["trackReferrer"],function(a,b,c){a.trackReferrer=b('trackReferrer');},3);
__d("UserNoOp",[],function(d,f,g,e,c){var a=function(){};var b=function(){return this;};a.prototype={add_event:b,add_data:b,set_ua_id:b,set_namespace:b};e.exports=a;});
__d("FunctionUtils",[],function(b,e,f,d,a){function c(j,l,h,g){var k;var i=function(){var m=arguments;var n=this;var o=function(){k=null;j.apply(n,m);};h&&i.reset();if(h||!k)k=setTimeout(o,l,g);};i.reset=function(){k&&clearTimeout(k);k=null;};return i;}d.exports={debounce:function(h,i,g){return c(h,i,true,g);},throttle:function(h,i,g){return c(h,i,false,g);}};});
__d("userAction",["function-extensions","Arbiter","EagleEye","FunctionUtils","copyProperties","hasArrayNature"],function(h,n,o,j,g){n("function-extensions");var a=n("Arbiter");var b=n("EagleEye");var c=n("FunctionUtils");var f=n("copyProperties");var i=n("hasArrayNature");function d(u,t,r){var s=u+'/'+t;f(this,{ue:s,_ua_id:null,_ts:u,_ns:null,_start_ts:u,_prev_event:'s',_ue_ts:u,_ue_count:t,_context:r,_data_version:1,_event_version:2,_info_version:1});if(d.enable.report)b.log('uan',[u,t]);this._report=c.debounce(function report(){if(!d.enable.report)return;var v=[this._info_version,this.ue,this._ns,this._ua_id];b.log('uai',v);}.bind(this),100);}var e=[];d.enable=function(s){if(!s)return;if(!i(s))s=[s];for(var r=0;r<s.length;r++)d.enable[s[r]]=true;};f(d.prototype,{set_ua_id:function(r){this._ua_id=r;this._report();return this;},set_namespace:function(r){this._ns=r;this._report();return this;},add_event:function(t,u){if(!d.enable.events)return this;u=u||0;var w=(Date.now()-u);var r=w-this._ts;var v=w-this._ue_ts;var s=[this._event_version,this.ue,this._ns,this._ua_id,this._prev_event,t,r,v];b.log('uae',s);this._ts=w;this._prev_event=t;return this;},add_data:function(r){if(!d.enable.data)return this;var s=[this._data_version,this.ue,r];b.log('uad',s);return this;}});var p=0;var m=0;var l=null;var k=null;function q(r,v,event,u,s){var y=Date.now();var x=y+'/'+p;s=s||{};if(!v&&event)v=event.getTarget();var t=50;if(v&&l)if(y-m<t&&v==l&&u!="FORCE")return e[e.length-1];if(!window.addEventListener&&document.createEventObject)event=document.createEventObject(event);l=v;k=event;var w=new d(y,p,r);e.push(w);while(e.length>10)e.shift();a.inform("UserAction/new",{ua:w,node:v,mode:u,event:event,extra_data:s});m=y;p++;return w;}a.subscribe("UserAction/enable",function(s,r){d.enable(r);});j.exports=q;});
__d("legacy:UserAction",["UserNoOp","userAction"],function(a,b,c){a.UserNoOp=b('UserNoOp');a.user_action=a.user_action||b('userAction');a.report_data=a.report_data||function(d,e){user_action(d,null,null,'FORCE',e);};},3);
!function(){if(window.__primer)return;window.__primer=true;var a=null;var c=/async(?:-post)?|dialog(?:-pipe|-post)?|theater|toggle/;document.documentElement.onclick=function(f){f=f||window.event;a=f.target||f.srcElement;var g=Parent.byTag(a,'A');if(!g)return;var d=g.getAttribute('ajaxify');var h=g.href;var m=d||h;if(m){var l=user_action('a',g,f).set_namespace('primer');if(window.ArbiterMonitor)ArbiterMonitor.initUA(l,[g]);}if(d&&h&&!(/#$/).test(h)){var i=f.which&&f.which!=1;var j=f.altKey||f.ctrlKey||f.metaKey||f.shiftKey;if(i||j)return;}trackReferrer(g,m);var e=['dialog'];var k=g.rel&&g.rel.match(c);k=k&&k[0];switch(k){case 'dialog-pipe':e.push('ajaxpipe');case 'dialog':case 'dialog-post':Bootloader.loadComponents(e,function(){Dialog.bootstrap(m,null,k=='dialog',null,null,g);});break;case 'async':case 'async-post':Bootloader.loadComponents('async',function(){AsyncRequest.bootstrap(m,g);});break;case 'theater':if(window.Env&&Env.snowlift){Bootloader.loadComponents('PhotoSnowlift',function(){PhotoSnowlift.bootstrap(m,g);});}else Bootloader.loadComponents('PhotoSnowbox',function(){PhotoSnowbox.bootstrap(m,g);});break;case 'toggle':CSS.toggleClass(g.parentNode,'openToggler');Bootloader.loadComponents('Toggler',function(){Toggler.bootstrap(g);});break;default:return;}return false;};document.documentElement.onsubmit=function(d){d=d||window.event;var e=d.target||d.srcElement;if(e&&e.nodeName=='FORM'&&e.getAttribute('rel')=='async'){var g=user_action('f',e,d).set_namespace('primer');if(window.ArbiterMonitor)ArbiterMonitor.initUA(g,[e]);var f=a;Bootloader.loadComponents('dom-form',function(){Form.bootstrap(e,f);});return false;}};var b=null;document.documentElement.onmouseover=function(d){d=d||window.event;b=d.target||d.srcElement;var e=Parent.byAttribute(b,'data-hover');if(!e)return;switch(e.getAttribute('data-hover')){case 'tooltip':Bootloader.loadComponents('Tooltip',function(){Tooltip.process(e,b);});break;}};}();
__d("DynaTemplate",["Util","hasArrayNature"],function(h,o,p,k,g){var b=o("Util");var i=o("hasArrayNature");var l='[[';var m='\\[\\[';var d='\\]\\]';var q={};var c={};function j(s,r){return r.indexOf(l+s)!=-1;}function f(r){switch(r){case "&":return "&amp;";case '"':return '&quot;';case "'":return '&#39;';case "<":return "&lt;";case ">":return "&gt;";default:return r;}}function e(r){r=String(r===null?'':r);return r.replace(/&(?!\w+;)|["'<>]/g,f);}function n(u,r){if(u.charAt(0)=='@')return n(c[u.substring(1)],r);if(j('#',u)||j('^',u)){var t=new RegExp(m+'(\\^|\\#)\\s*(.+)\\s*'+d+'\n*([\\s\\S]+?)'+m+'\\/\\s*\\2\\s*'+d+'\\s*','mg');u=u.replace(t,function(v,za,y,w){var zb=r[y];zb=(zb&&zb.__html!==undefined)?zb.__html:zb;if(za=='^'){if(!zb||i(zb)&&zb.length===0)return n(w,r);return '';}if(za=='#'&&zb){if(i(zb)){var z=[];for(var x=0;x<zb.length;x++)z.push(n(w,zb[x]));return z.join('');}if(typeof zb==='object')return n(w,zb);if(!(typeof zb==='function'))return n(w,r);}return '';});}if(!j('',u))return u;var s=new RegExp(m+'(>|\\[|&)?([^\\/#\\^]+?)\\1?'+d+'+','g');return u.replace(s,function(v,x,w){w=w.replace(/^\s*|\s*$/g,"");var y=r[w];if(!y||y instanceof Array&&y.length===0)return '';switch(x){case '>':if(y[0].charAt(0)=='@'){return n(y[0],y[1]);}else if(!(y[0] in q))return '';return n(q[y[0]],y[1]);case '&':default:if(window.HTML&&y instanceof window.HTML)return y.toString();return y.__html!==undefined?y.__html:e(y);}});}var a={registerTemplates:function(s){for(var r in s){var t=s[r];c[t[0]]=t[1];q[r]=t[1];}},renderToHtml:n};k.exports=h.DynaTemplate||a;});
__d("JSCC",["array-extensions","Util","isEmpty"],function(f,k,l,j,d){k("array-extensions");var b=k("Util");var h=k("isEmpty");var e={};var i={};function c(n){var o;var m=false;return function(){if(!m){o=n();m=true;}return o;};}function g(m,o){if(h(m))return;for(var n in m){e[n]=c(m[n]);if(o){if(!i[o])i[o]=[];i[o].push(n);}}}var a={get:function(m){!e[m];return e[m]();},init:function(m){g(m);},initForPagelet:function(n,m){g(m,n);},clearForPagelet:function(o){if(i[o]){for(var m=0;m<i[o].length;m++){var n=i[o][m];delete e[n];}delete i[o];}}};j.exports=a;});
__d("invokeCallbacks",[],function(b,e,f,d,a){function c(h,j){if(h)for(var i=0;i<h.length;i++)try{(new Function(h[i])).apply(j);}catch(g){}}d.exports=c;});
__d("BigPipe",["function-extensions","Arbiter","bootloader","DynaTemplate","Env","JSCC","Util","dom-core","bind","copyProperties","hasArrayNature","invokeCallbacks"],function(global,require,requireLazy,module,exports){require("function-extensions");var Arbiter=require("Arbiter");var Bootloader=require("bootloader");var DynaTemplate=require("DynaTemplate");var Env=require("Env");var JSCC=require("JSCC");var Util=require("Util");var $=require("dom-core").$;var bind=require("bind");var copyProperties=require("copyProperties");var ge=require("dom-core").ge;var hasArrayNature=require("hasArrayNature");var invokeCallbacks=require("invokeCallbacks");var ie=document.documentMode||+(/MSIE.(\d+)/.exec(navigator.userAgent)||[])[1];function objectify(thing){return (!thing||hasArrayNature(thing)&&thing.length===0)?{}:thing;}function getContentMarkup(content){if(!content||typeof content==='string')return content;if(content.container_id){var container=$(content.container_id);content=extractMarkup(container)||'';container.parentNode.removeChild(container);return content;}if(content.length>=2)return DynaTemplate.renderToHtml(content[0],content[1]);return null;}function extractMarkup(container){if(!container.firstChild){Bootloader.loadComponents('error-signal',function(){send_error_signal('bigpipe','Pagelet markup container is empty.');});return null;}if(container.firstChild.nodeType!==8)return null;var comment=container.firstChild.nodeValue;comment=comment.substring(1,comment.length-1);return comment.replace(/\\([\s\S]|$)/g,'$1');}function appendNodes(container,markup){var nn=document.createElement('div');var hax=ie<7;if(hax)container.appendChild(nn);nn.innerHTML=markup;var frag=document.createDocumentFragment();while(nn.firstChild)frag.appendChild(nn.firstChild);container.appendChild(frag);if(hax)container.removeChild(nn);}function BigPipe(options){copyProperties(this,{arbiter:Arbiter,rootNodeID:'content',lid:0,isAjax:false,rrEnabled:true,domContentCallback:domcontent_callback,onloadCallback:onload_callback,domContentEvt:OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,onloadEvt:OnloadEvent.ONLOAD_CALLBACK,forceFinish:false,jsEarlier:false,_phaseDoneCallbacks:[],_currentPhase:0,_lastPhase:-1});copyProperties(this,options);this._cavalry=(this.lid&&window.CavalryLogger)?CavalryLogger.getInstance(this.lid):null;this._inst=this._cavalry&&(window._pagelet_profile||this._cavalry.isPageletProfiler());BigPipe._current_instance=this;if(Env.tti_vision==1)(new TTIVisualizer(this)).init();this.arbiter.registerCallback(this.domContentCallback,['pagelet_displayed_all']);this.arbiter.inform('phase_begin_0',true,Arbiter.BEHAVIOR_STATE);this._inst&&this._cavalry.setTimeStamp('t_phase_begin_0');this.onloadCallback=this.arbiter.registerCallback(this.onloadCallback,['pagelet_displayed_all']);}copyProperties(BigPipe.prototype,{_displayPageletHandler:function(pagelet){if(this.displayCallback){this.displayCallback(this._displayPagelet.bind(this,pagelet));}else this._displayPagelet(pagelet);},_displayPagelet:function(pagelet){if(this._inst)this._cavalry.onPageletEvent('display_start',pagelet.id);pagelet.content=objectify(pagelet.content);var inform_now=true;var after_display=function(){if(this._inst)this._cavalry.onPageletEvent('display',pagelet.id);this.arbiter.inform(pagelet.id+'_displayed',true,Arbiter.BEHAVIOR_STATE);}.bind(this);for(var target_id in pagelet.content){var content=pagelet.content[target_id];if(pagelet.append)target_id=this._getAppendTargetID(pagelet);var target=ge(target_id);if(target){content=getContentMarkup(content);if(content)if(!pagelet.append&&pagelet.has_inline_js){if(window.DOM&&window.HTML){DOM.setContent(target,HTML(content));}else{inform_now=false;Bootloader.loadComponents(['dom','dom-html'],function(){DOM.setContent(target,HTML(content));after_display();}.bind(this));}}else if(pagelet.append||ie<8){if(!pagelet.append)while(target.firstChild)target.removeChild(target.firstChild);appendNodes(target,content);}else target.innerHTML=content;var referrer=target.getAttribute('data-referrer');if(!referrer)target.setAttribute('data-referrer',target_id);}}if(inform_now)after_display();if(pagelet.cache_hit&&Env.pc_debug==1)$(pagelet.id).style.border="1px red solid";},_getAppendTargetID:function(pagelet){if(!pagelet.append)return null;return (pagelet.append==='bigpipe_root')?this.rootNodeID:pagelet.append;},_downloadJsForPagelet:function(pagelet){Bootloader.loadResources(pagelet.js||[],bind(this,function(){if(this._inst)this._cavalry.onPageletEvent('jsdone',pagelet.id);pagelet.requires=pagelet.requires||[];if(!this.isAjax||pagelet.phase>=1)pagelet.requires.push('uipage_onload');var fire_onloads=bind(this,function(){this._isRelevant()&&invokeCallbacks(pagelet.onload);if(this._inst)this._cavalry.onPageletEvent('onload',pagelet.id);this.arbiter.inform('pagelet_onload',true,Arbiter.BEHAVIOR_EVENT);pagelet.provides&&this.arbiter.inform(pagelet.provides,true,Arbiter.BEHAVIOR_STATE);});var fire_onafterloads=bind(this,function(){this._isRelevant()&&invokeCallbacks(pagelet.onafterload);});if(this.delay){var temp=fire_onloads;fire_onloads=function(){setTimeout(temp,400);};}this.arbiter.registerCallback(fire_onloads,pagelet.requires);this.arbiter.registerCallback(fire_onafterloads,[this.onloadEvt]);}),false,pagelet.id);},_downloadCssAndDisplayPagelet:function(pagelet){if(this._inst)this._cavalry.onPageletEvent('css',pagelet.id);var fn=bind(this,function(){var dep=pagelet.display_dependency||[];var signals=[];for(var i=0;i<dep.length;i++)signals.push(dep[i]+'_displayed');this.arbiter.registerCallback(this._displayPageletHandler.bind(this,pagelet),signals);});var css=pagelet.css||[];Bootloader.loadResources(css,fn,false,pagelet.id);if(this._inst)this._cavalry.onPageletEvent('css_end',pagelet.id);},_downloadAndScheduleDisplayJS:function(pagelet){var js=pagelet.js||[];var displayjs=[];for(var i=0;i<js.length;i++)if(Bootloader.isDisplayJS(js[i]))displayjs.push(js[i]);Bootloader.loadResources(displayjs,bind(this,function(){if(pagelet.ondisplay&&pagelet.ondisplay.length)this.arbiter.registerCallback(function(){invokeCallbacks(pagelet.ondisplay);},[pagelet.id+'_displayed']);}));},onPageletArrive:function(pagelet){if(this._inst){this._cavalry.onPageletEvent('arrive',pagelet.id);this._cavalry.events[pagelet.id].phase=pagelet.phase;}var phase=pagelet.phase;if(!this._phaseDoneCallbacks[phase])this._phaseDoneCallbacks[phase]=this.arbiter.registerCallback(this._onPhaseDone.bind(this),['phase_complete_'+phase]);this.arbiter.registerCallback(this._phaseDoneCallbacks[phase],[pagelet.id+'_displayed']);if(pagelet.cacheable){if(pagelet.cache_hit){Arbiter.registerCallback(function(){this._processPagelet(PageletCache.loadFromCache(pagelet));}.bind(this),['pagelet_cache_loaded']);}else{PageletCache.write(pagelet);this._processPagelet(pagelet);}}else this._processPagelet(pagelet);if(this._inst)this._cavalry.onPageletEvent('arrive_end',pagelet.id);},_processPagelet:function(pagelet){var phase=pagelet.phase;var target_id=this._getAppendTargetID(pagelet)||pagelet.id;BigPipe.pageletIDs[target_id]=target_id;if(pagelet.the_end)this._lastPhase=pagelet.phase;if(pagelet.tti_phase!==undefined)this._ttiPhase=pagelet.tti_phase;if(pagelet.is_second_to_last_phase)this._secondToLastPhase=pagelet.phase;if(pagelet.jscc_map){var jscc_map=eval(pagelet.jscc_map);JSCC.initForPagelet(target_id,jscc_map);}pagelet.tplts&&DynaTemplate.registerTemplates(pagelet.tplts);Bootloader.setResourceMap(pagelet.resource_map);Bootloader.enableBootload(objectify(pagelet.bootloadable));var phase_start_evt='phase_begin_'+phase;this.arbiter.registerCallback(this._downloadCssAndDisplayPagelet.bind(this,pagelet),[phase_start_evt]);this.arbiter.registerCallback(this._downloadAndScheduleDisplayJS.bind(this,pagelet),[phase_start_evt]);var js_events=[pagelet.id+'_displayed'];if(!this.jsNonBlock)if(this.jsEarlier){js_events.push('start_to_download_js');}else js_events.push(this.domContentEvt);this.arbiter.registerCallback(this.onloadCallback,['pagelet_onload']);this.arbiter.registerCallback(this._downloadJsForPagelet.bind(this,pagelet),js_events);if(pagelet.jscalls)this.arbiter.registerCallback(function(){invokeCallbacks([pagelet.jscalls]);},[pagelet.id+'_displayed']);pagelet.is_last&&this.arbiter.inform('phase_complete_'+phase,true,Arbiter.BEHAVIOR_STATE);},_onPhaseDone:function(){if(this._currentPhase===this._ttiPhase&&this.rrEnabled){this.arbiter.inform('tti_bigpipe',{s:this.lid},Arbiter.BEHAVIOR_EVENT);this._cavalry&&this._cavalry.setTTIPhase(this._ttiPhase).measurePageLoad(true);}var nextPhase=this._currentPhase+1;var fn=(function(was_second_to_last_phase){if(this.jsEarlier&&was_second_to_last_phase)this.arbiter.inform('start_to_download_js',true,Arbiter.BEHAVIOR_STATE);this._inst&&this._cavalry.setTimeStamp('t_phase_begin_'+nextPhase);this.arbiter.inform('phase_begin_'+nextPhase,true,Arbiter.BEHAVIOR_STATE);}).bind(this,this._currentPhase===this._secondToLastPhase);if(this._currentPhase===this._lastPhase&&this._isRelevant())this.arbiter.inform('pagelet_displayed_all',true,Arbiter.BEHAVIOR_STATE);this._currentPhase++;if(ie){setTimeout(fn,20);}else fn();},_isRelevant:function(){return this==BigPipe._current_instance||this.jsNonBlock||this.forceFinish;}});BigPipe.pageletIDs={};module.exports=BigPipe;});
__d("legacy:big-pipe",["BigPipe"],function(a,b,c){a.BigPipe=b('BigPipe');},3);
__d("BlueBarController",["bootloader","css-core"],function(d,f,g,e,c){var a=f('bootloader');var b=f('css-core');c.init=function(h){if('getBoundingClientRect' in h){var i=function(){var j=h.getBoundingClientRect(),k=Math.round(j.top)-document.documentElement.clientTop;b.conditionClass(h.firstChild,'fixed_elem',k<=0);};i();a.loadComponents(['event-extensions'],function(){Event.listen(window,'scroll',i);});}};});
__d("Class",["function-extensions","Arbiter","bind"],function(n,p,q,o,m){p('function-extensions');var a=p('Arbiter');var l=p('bind');var h={};var d=null;var b={extend:function(r,s){if(!d)d=a.subscribe(a.BOOTLOAD,j);if(typeof s=='string'){i(r,s);}else c(r,s);},mixin:function(t,s){var r=Array.prototype.slice.call(arguments);r[0]=r[0].prototype;Function.mixin.apply(Function,r);}};function i(s,t){s.__class_extending=true;var r=a.registerCallback(l(null,c,s,t),[a.FUNCTION_EXTENSION+'/'+t,a.BOOTLOAD]);if(r!==null)h[t]=true;}function j(){for(var r in h)if(!!n[r]){delete h[r];if(!n[r].__class_extending){a.inform(a.FUNCTION_EXTENSION+'/'+r,true,a.BEHAVIOR_STATE);}else n[r].__class_name=r;}}function c(r,t){delete r.__class_extending;t=typeof t=='string'?n[t]:t;var u=g(t,0);var s=g(r,u.prototype.__level+1);s.parent=u;if(!!r.__class_name)a.inform(a.FUNCTION_EXTENSION+'/'+r.__class_name,true,a.BEHAVIOR_STATE);}function g(t,r){if(t._metaprototype)return t._metaprototype;var s=new Function();s.construct=e;s.prototype.construct=k(t,r,true);s.prototype.__level=r;s.base=t;t.prototype.parent=s;t._metaprototype=s;return s;}function e(r){f(r.parent);var u=[];var t=r;while(t.parent){var s=new t.parent();u.push(s);s.__instance=r;t=t.parent;}r.parent=u[1];u.reverse();u.pop();r.__parents=u;r.__instance=r;return r.parent.construct.apply(r.parent,arguments);}function f(u){if(u.initialized)return;var r=u.base.prototype;if(u.parent){f(u.parent);var v=u.parent.prototype;for(var s in v)if(s!='__level'&&s!='construct'&&r[s]===undefined)r[s]=u.prototype[s]=v[s];}u.initialized=true;var t=u.prototype.__level;for(var s in r)if(s!='parent')r[s]=u.prototype[s]=k(r[s],t);}function k(t,s,u){if(typeof t!='function'||t.__prototyped)return t;var r=function(){var x=this.__instance;if(x){var y=x.parent;x.parent=s?x.__parents[s-1]:null;var v=arguments;if(u){v=[];for(var w=1;w<arguments.length;w++)v.push(arguments[w]);}var z=t.apply(x,v);x.parent=y;return z;}else return t.apply(this,arguments);};r.__prototyped=true;return r;}n.Class=o.exports=b;},3);
(window.__c&&!window.__c.stub)||function(){function a(f,c){var e=(typeof c!=='undefined')?f[c]:f;if(Object.prototype.toString.call(e)==='[object Array]'){for(var b=0;b<e.length;b++)a(e,b);}else if(e&&typeof e=='object')if(e.__m){f[c]=require(e.__m);}else if(e.__e){f[c]=document.getElementById(e.__e);}else for(var d in e)a(e,d);}window.__c=function(e,d,c,b){var f=[e].concat(c||[]);requireLazy(f,function(g){b&&a(b);d&&g[d].apply(g,b);});};window.__f=function(d,c,b){define(d,c,function(e){a(b);return e.fromJSON.apply(null,b);});};}();
__d("legacy:constructor-cache",["JSCC"],function(a,b,c){a.JSCC=b('JSCC');},3);
__d("curry",["bind"],function(d,f,g,e,c){var a=f('bind');var b=a(null,a,null);e.exports=b;d.curry=b;},3);
__d("event-form-bubbling",[],function(b,d,e,c,a){b.Event=b.Event||function(){};Event.__inlineSubmit=function(g,event){var f=Event.__getHandler&&Event.__getHandler(g,'submit');return f?null:Event.__bubbleSubmit(g,event);};Event.__bubbleSubmit=function(f,event){if(document.documentElement.attachEvent){var g;while(g!==false&&(f=f.parentNode))g=f.onsubmit?f.onsubmit(event):Event.__fire&&Event.__fire(f,'submit',event);return g;}};},3);
__d("deferUntil",[],function(c,e,f,d,b){function a(i,h,m,g,n){var k=h();if(k){i(k);return null;}var l=Date.now();var j=setInterval(function(){k=h();if(!k){if(!m||(m<new Date()-l))return;n&&n();}clearInterval(j);i(k);},20,g);return j;}d.exports=a;});
__d("legacy:function-utils",["FunctionUtils","deferUntil"],function(b,c,d){var a=c('FunctionUtils');b.debounce=a.debounce;b.throttle=a.throttle;b.defer_until=c('deferUntil');},3);
__d("legacy:arbiter",["Arbiter"],function(a,b,c){a.Arbiter=b('Arbiter');},3);
__d("legacy:object-core-utils",["isEmpty","copyProperties"],function(b,c,d){b.is_empty=c('isEmpty');b.copy_properties=c('copyProperties');function a(e,f){return copy_properties(window[e]||(window[e]={}),f);}b.add_properties=a;},3);
InitialJSLoader=window.InitialJSLoader||{INITIAL_JS_READY:'BOOTLOAD/JSREADY',load:function(a){InitialJSLoader.callback=Bootloader.loadResources(a,InitialJSLoader.callback);},callback:Arbiter.registerCallback(function(){Arbiter.inform(InitialJSLoader.INITIAL_JS_READY,true,Arbiter.BEHAVIOR_STATE);},[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK])};
__d("Intl",[],function(c,f,g,d,b){function a(h){if(typeof h!='string')return false;return h.match(new RegExp(a.punct_char_class+'['+')"'+"'"+'\u00BB'+'\u0F3B'+'\u0F3D'+'\u2019'+'\u201D'+'\u203A'+'\u3009'+'\u300B'+'\u300D'+'\u300F'+'\u3011'+'\u3015'+'\u3017'+'\u3019'+'\u301B'+'\u301E'+'\u301F'+'\uFD3F'+'\uFF07'+'\uFF09'+'\uFF3D'+'\s'+']*$'));}a.punct_char_class='['+'.!?'+'\u3002'+'\uFF01'+'\uFF1F'+'\u0964'+'\u2026'+'\u0EAF'+'\u1801'+'\u0E2F'+'\uFF0E'+']';function e(n){var l,k=n,m=window.intl_locale_rewrites,i,j;try{if(m){var pats=[],reps=[];for(var p in m.patterns){var pat=p,rep=m.patterns[p];for(i in m.meta){l=new RegExp(i.slice(1,-1),'g');pat=pat.replace(l,m.meta[i]);rep=rep.replace(l,m.meta[i]);}pats[pats.length]=pat;reps[reps.length]=rep;}for(var ii=0;ii<pats.length;ii++){l=new RegExp(pats[ii].slice(1,-1),'g');if(reps[ii]=='javascript'){j=n.match(l);i=j&&j[0];if(i)n=n.replace(l,i.slice(1).toLowerCase());}else n=n.replace(l,reps[ii]);}}}catch(h){n=k;}l=new RegExp('\x01','g');n=n.replace(l,'');return n;}d.exports={endsInPunct:a,phonologicalRules:e};});
__d("_tx",["Intl"],function(d,f,g,e,c){var a=f('Intl');function b(l,h){if(!h)return l;var k;for(var j in h){if(a.endsInPunct(h[j])){k=new RegExp('\\{'+j+'\\}'+a.endsInPunct.punct_char_class+'*','g');}else k=new RegExp('\\{'+j+'\\}','g');var i='\x01';l=l.replace(k,i+h[j]+i);}l=a.phonologicalRules(l);return l;}e.exports=b;});
__d("tx",["_tx"],function(c,e,f,d,b){var a=e('_tx');function g(i,h){if(typeof _string_table=='undefined')return;i=_string_table[i];return a(i,h);}d.exports=g;});
__d("legacy:intl-core",["tx","_tx","Intl"],function(c,d,e){var f=d('tx');var b=d('_tx');var a=d('Intl');c.tx=f;c._tx=b;c.intl_ends_in_punct=a.endsInPunct;c.intl_phonological_rules=a.phonologicalRules;},3);
__d("JSLogger",["json"],function(d,f,g,e,c){f('json');function b(i){this.cat=i;this._counts={};}var a={_JSLogger:b,instances:{},backlog:[],stringify:function(j){if(j instanceof Error&&window.SystemEvents)j=SystemEvents.normalizeError(j);try{return JSON.stringify(j);}catch(i){return '{}';}}};function h(i){b.prototype[i]=function(event,j){if(a.backlog.length<100)a.backlog.push([this.cat,i,event,j&&a.stringify(j),new Date()]);};}h('debug');h('log');h('warn');h('error');h('bump');h('rate');e.exports={_:a,DUMP_EVENT:'jslogger/dump',create:function(i){return a.instances[i]||(a.instances[i]=new b(i));}};});
__d("legacy:JSLogger",["JSLogger"],function(a,b,c){a.JSLogger=b('JSLogger');},3);
!function(){var b=document.documentElement;var a=function(c){c=c||window.event;var d=c.target||c.srcElement;var f=d.getAttribute('placeholder');if(f){var e=Parent.byClass(d,'focus_target');if('focus'==c.type||'focusin'==c.type){if(d.value==f&&CSS.hasClass(d,'DOMControl_placeholder')){d.value='';CSS.removeClass(d,'DOMControl_placeholder');}if(e){CSS.addClass(e,'child_is_active');CSS.addClass(e,'child_is_focused');CSS.addClass(e,'child_was_focused');Arbiter.inform('reflow');}}else{if(d.value==''){CSS.addClass(d,'DOMControl_placeholder');d.value=f;e&&CSS.removeClass(e,'child_is_active');d.style.direction='';}e&&CSS.removeClass(e,'child_is_focused');}}};if(b.addEventListener){b.addEventListener('focus',a,true);b.addEventListener('blur',a,true);}else b.onfocusin=b.onfocusout=a;}();
__d("goURI",[],function(b,e,f,d,a){function c(h,g){h=h.toString();if(!g&&b.PageTransitions&&PageTransitions.isInitialized()){PageTransitions.go(h);}else if(window.location.href==h){window.location.reload();}else window.location.href=h;}d.exports=c;});
__d("legacy:prelude-utils",["goURI","invokeCallbacks"],function(a,b,c){a.goURI=b('goURI');a.invoke_callbacks=b('invokeCallbacks');},3);
document.documentElement.onkeydown=function(a){a=a||window.event;var b=a.target||a.srcElement;var c=a.keyCode==13&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&CSS.hasClass(b,'enter_submit');if(c){Bootloader.loadComponents(['dom','input-methods'],function(){if(!Input.isEmpty(b)){var d=DOM.scry(b.form,'.enter_submit_target')[0]||DOM.scry(b.form,'[type="submit"]')[0];d&&d.click();}});return false;}};
function fc_click(a,b){user_action('ufi',a);fc_expand(a,b);}function fc_expand(a,b){var c=Parent.byTag(a,'form');fc_uncollapse(c);CSS.removeClass(c,'hidden_add_comment');if(b!==false)(c.add_comment_text_text||c.add_comment_text).focus();return false;}function fc_uncollapse(a){CSS.removeClass(a,'collapsed_comments');}
__d("wait_for_load",["bootloader","onload","bind"],function(e,g,h,f,d){var a=g('bootloader');var b=g('onload');var c=g('bind');function i(l,m){return window.loaded&&m.call(l);}function j(m,l,n){a.loadComponents(l,c(m,n));return false;}function k(n,m,p){p=c(n,p,m);if(window.loaded)return p();switch((m||event).type){case 'load':case 'focus':b.runAfterload(p);return;case 'click':var o=n.style,l=document.body.style;o.cursor=l.cursor='progress';b.runAfterload(function(){o.cursor=l.cursor='';if(n.tagName.toLowerCase()=='a'){if(false!==p()&&n.href)window.location.href=n.href;}else if(n.click)n.click();});break;}return false;}e.run_if_loaded=i;e.run_with=j;e.wait_for_load=k;},3);
void(0);